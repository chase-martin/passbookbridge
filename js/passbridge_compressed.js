var passbridge=function(){function e(){var a=a=document.querySelector("#locationChooser");b(a,0,function(){a.style.display="none";b(c,1)});navigator.userAgent.match(/iPhone/i)?f=window.setInterval(function(){var a=Date.now();void 0!==d&&300<a-d?(window.removeEventListener("touchmove",g,!0),window.clearInterval(f),passCreated.call(),b(c,0,function(){c.style.display="none";h.style.display="block";b(h,1)})):d=Date.now()}):setTimeout(k,2E3);window.addEventListener("touchmove",g,!0);window.setTimeout(function(){a.submit()},
1E3)}function k(){c.style.display="none";i.style.display="block";b(i,1)}function b(a,j,b){void 0!==b&&a.addEventListener("webkitTransitionEnd",function(){b.call()},!1);setTimeout(function(){a.style.opacity=j},1)}function g(a){a.preventDefault()}var d,f,c=document.querySelector(".spinner"),h=document.querySelector(".passbook"),i=document.querySelector(".requirements");return window.addEventListener("load",function(a){for(var b=0,c=["zipCode","useLocation","skip","createPass"],a=["focus","change","click",
"click"],d=[function(a){a.target.form.useZipCode.checked=!0;a.target.form.useLocation.checked=!1},function(a){"useLocation"==a.target.id&&(a.target.form.zipCode.value="")},function(a){a.target.form.skip.disabled="disabled";a.target.form.createPass.disabled="disabled";a.target.form.formSkipped.value="true";e(a.target.form)},function(a){a.preventDefault();var b=a.target.form;b.createPass.disabled="disabled";b.skip.disabled="disabled";b.useLocation.checked?navigator.geolocation.getCurrentPosition(function(a){b.geoTimestamp.value=
a.timestamp;b.geoAccuracy.value=a.coords.accuracy;b.geoLatitude.value=a.coords.latitude;b.geoLongitude.value=a.coords.longitude;e()},function(a){b.geoError=a;e()}):e()}];b<c.length;document.getElementById(c[b]).addEventListener(a[b],d[b],!1),b++);})}();
