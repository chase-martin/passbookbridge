var passbridge=function(){function d(){var a=a=document.querySelector("#locationChooser");c(a,0,function(){a.style.display="none";c(e,1)});navigator.userAgent.match(/iPhone/i)?h=window.setInterval(function(){var a=Date.now();void 0!==g&&300<a-g?(window.removeEventListener("touchmove",i,!0),window.clearInterval(h),passCreated.call(),c(e,0,function(){e.style.display="none";j.style.display="block";c(j,1)})):g=Date.now()}):setTimeout(n,2E3);window.addEventListener("touchmove",i,!0);window.setTimeout(function(){a.submit()},
1E3)}function n(){e.style.display="none";k.style.display="block";c(k,1)}function c(a,c,d){void 0!==d&&a.addEventListener("webkitTransitionEnd",function p(a){d.call();a.target.removeEventListener("webkitTransitionEnd",p,!1)},!1);setTimeout(function(){a.style.opacity=c},1)}function i(a){a.preventDefault()}function l(){a["location.zipcode"].value=a["location.zipcode"].value.replace(/[^0-9]/g,"");5<a["location.zipcode"].value.length?(a["location.invalidzip"].type="text",a["location.invalidzip"].dataset.showError=
"true",c(a["location.invalidzip"],1)):5==a["location.zipcode"].value.length?"hidden"!=a["location.invalidzip"].type&&m("location.invalidzip"):5>a["location.zipcode"].value.length&&"true"==a["location.invalidzip"].dataset.showError&&(a["location.invalidzip"].type="text",c(a["location.invalidzip"],1))}function m(b){c(a[b],0);setTimeout(function(){a[b].type="hidden"},100)}function q(){a["location.choose_zip"].checked=!0;a["location.choose_loc"].checked=!1;window.addEventListener("keyup",l,!1)}function r(){window.removeEventListener("keyup",
l,!1)}function s(){a["location.invalidzip"].dataset.showError="false";a["location.zipcode"].value="";m("location.invalidzip")}function t(){a["location.skip"].disabled="disabled";a["location.create"].disabled="disabled";document.getElementById("errors").innerHTML="";for(var b in a.elements)a.elements[b].dataset&&"true"==a.elements[b].dataset.clearOnSkip&&(a.elements[b].value="");a["location.skipped"].value="true";d(a)}function u(b){b.preventDefault();b=a["location.zipcode"].value.match(/[^0-9]+/);
if(!0==a["location.choose_zip"].checked&&5!=a["location.zipcode"].value.length||null!=b)return a["location.invalidzip"].dataset.showError="true",a["location.invalidzip"].type="text",c(a["location.invalidzip"],1),!1;a["location.create"].disabled="disabled";a["location.skip"].disabled="disabled";document.getElementById("errors").innerHTML="";a["location.choose_loc"].checked?navigator.geolocation.getCurrentPosition(function(b){a["location.timestamp"].value=b.timestamp;a["location.accuracy"].value=b.coords.accuracy;
a["location.latitude"].value=b.coords.latitude;a["location.longitude"].value=b.coords.longitude;d()},function(b){a["location.error"]=b;d()}):d()}var g,h,e=document.querySelector(".spinner"),j=document.querySelector(".passbook"),k=document.querySelector(".requirements"),a=document.getElementById("locationChooser");return window.addEventListener("DOMContentLoaded",function(){for(var b=["location.zipcode","location.zipcode","location.choose_loc","location.skip","location.create"],d=["focus","blur","change",
"click","click"],e=[q,r,s,t,u],f=0;f<b.length;f++)document.getElementById(b[f]).addEventListener(d[f],e[f],!1);"true"==a["location.zipCodeIsInvalidOnServer"].value&&(a["location.invalidzip"].type="text",c(a["location.invalidzip"],1,function(){a["location.zipcode"].focus()}))})}();
